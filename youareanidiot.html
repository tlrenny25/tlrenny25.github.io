<!DOCTYPE html>
<html>
<head>
  <title>You Are An Idiot</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: black;
      height: 100%;
      width: 100%;
      font-family: sans-serif;
      color: white;
      overflow: hidden;
    }
    #clickbox {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      cursor: pointer;
    }
    #content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
      pointer-events: none;
    }
    img { width: 300px; }
    button {
      margin-top: 20px;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      z-index: 3;
      pointer-events: auto;
    }
  </style>
</head>
<body>
  <div id="clickbox"></div>

  <div id="content">
    <img id="idiotImage" src="idiot-black.png" alt="You Are An Idiot">
    <button id="muteBtn">?? Mute</button>
  </div>

  <audio id="idiotAudio" autoplay loop>
    <source src="idiot.ogg" type="audio/ogg">
    <source src="idiot.wav" type="audio/wav">
  </audio>

  <script>
    const image = document.getElementById("idiotImage");
    const audio = document.getElementById("idiotAudio");
    const muteBtn = document.getElementById("muteBtn");
    const clickbox = document.getElementById("clickbox");
    const images = ["idiot-black.png", "idiot-white.png"];
    let index = 0;
    let started = false;

    // Flashing images
    setInterval(() => {
      index = (index + 1) % images.length;
      image.src = images[index];
    }, 500);

    // Mute
    muteBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      audio.muted = !audio.muted;
      muteBtn.textContent = audio.muted ? "?? Unmute" : "?? Mute";
    });

    clickbox.addEventListener("click", () => {
      if (!started) {
        started = true;

        const w = 308;
        const h = 308;

        function openPopup() {
          const left = Math.floor(Math.random() * (screen.width - w));
          const top = Math.floor(Math.random() * (screen.height - h));
          window.open("lol.html", "", `width=${w},height=${h},left=${left},top=${top}`);
        }

        openPopup();               // first immediately
        setInterval(openPopup, 10000); // then every 10s
      }
    });
  </script>
</body>
</html>
